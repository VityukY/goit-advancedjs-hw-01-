{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector(\".feedback-form\")\nconst currentData = localStorage.getItem(\"feedback-form-state\");\n\nlet data =currentData ? JSON.parse(currentData) :{email:'', message:''}\nform[0].value = currentData? JSON.parse(currentData).email:'';\nform[1].value = currentData? JSON.parse(currentData).message:'';\n\nconst throttledHandler = throttle(() => localStorage.setItem(\"feedback-form-state\", JSON.stringify(data)), 500);\n\n\nform.addEventListener('input', (e) => {\n   if( e.target.nodeName === 'INPUT') {\n      data.email = e.target.value\n   }\n   else if( e.target.nodeName === 'TEXTAREA') {\n      data.message = e.target.value\n   }\n\n   throttledHandler(); \n   \n})\n\nform.addEventListener('submit', (e) => {\n   e.preventDefault();\n   const currentData = localStorage.getItem(\"feedback-form-state\");\n   console.log(JSON.parse(currentData));\n   localStorage.removeItem(\"feedback-form-state\")\n   form[0].value =''\n   form[1].value =''\n \n})"],"names":["form","currentData","data","throttledHandler","throttle"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAc,aAAa,QAAQ,qBAAqB,EAE9D,IAAIC,EAAMD,EAAc,KAAK,MAAMA,CAAW,EAAG,CAAC,MAAM,GAAI,QAAQ,EAAE,EACtED,EAAK,CAAC,EAAE,MAAQC,EAAa,KAAK,MAAMA,CAAW,EAAE,MAAM,GAC3DD,EAAK,CAAC,EAAE,MAAQC,EAAa,KAAK,MAAMA,CAAW,EAAE,QAAQ,GAE7D,MAAME,EAAmBC,EAAS,IAAM,aAAa,QAAQ,sBAAuB,KAAK,UAAUF,CAAI,CAAC,EAAG,GAAG,EAG9GF,EAAK,iBAAiB,QAAU,GAAM,CAC/B,EAAE,OAAO,WAAa,QACvBE,EAAK,MAAQ,EAAE,OAAO,MAEhB,EAAE,OAAO,WAAa,aAC5BA,EAAK,QAAU,EAAE,OAAO,OAG3BC,GAEH,CAAC,EAEDH,EAAK,iBAAiB,SAAW,GAAM,CACpC,EAAE,eAAc,EAChB,MAAMC,EAAc,aAAa,QAAQ,qBAAqB,EAC9D,QAAQ,IAAI,KAAK,MAAMA,CAAW,CAAC,EACnC,aAAa,WAAW,qBAAqB,EAC7CD,EAAK,CAAC,EAAE,MAAO,GACfA,EAAK,CAAC,EAAE,MAAO,EAElB,CAAC"}